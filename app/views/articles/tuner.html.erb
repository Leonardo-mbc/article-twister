<% @selectors.each do |selector| %>
    <div class="btn-group">
        <a class="btn btn-<%= selector[:label_type] %> btn-xs" onClick="plotter.clear_axis('<%= selector[:axis] %>')" data-title="<%= selector[:axis] %>"><%= selector[:axis] %>軸へのマッピング</a>
        <a aria-expanded="false" class="btn btn-<%= selector[:label_type] %> btn-xs dropdown-toggle" data-toggle="dropdown" href="#"><span class="caret"></span></a>
        <ul class="dropdown-menu">
            <% @profiles.each do |prof| %>
                <% path = x_similar_article_path(prof.id) if selector[:axis] == 'X' %>
                <% path = y_similar_article_path(prof.id) if selector[:axis] == 'Y' %>
                <li onClick="plotter.change_axis('<%= selector[:axis] %>', '<%= prof.name %>')"><%= link_to prof.name, path, remote: true %></li>
            <% end %>
        </ul>
    </div>
<% end %>

<div class="stage"></div>

<div class="form-group">
    <span class="label label-primary" data-label="X">X軸</span>
    <span class="label label-success" data-label="Y">Y軸</span>
</div>

<blockquote class="details"></blockquote>

<%= javascript_tag do %>
    var plotter;
    $(function() {
        var picker = new Picker("<%= Settings.api.host %>");
        plotter = new Plotter(500, 500, picker);
        plotter.plot();
    });
<% end %>
